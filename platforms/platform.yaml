# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                                                             #
# SCITAS SPACK DEPLOYMENT 2022, EPFL                                          #
#                                                                             #
# This should contain the configuration of the hardware where the             #
# packages are to be installed.                                               #
#                                                                             #
#   filters: these are choice (or selection) keys. The choice will            #
#            be made when parsing the `stack.yaml` file. This enables         #
#            the configuration of a package regardlsess of the platform       #
#            details, such as GPU availability or Infiniband.                 #
#                                                                             #
#            Example: the following package spec will work on                 #
#                     platforms, whether they are accelerated not not.        #
#                                                                             #
#                     - xgboost@1.5.2:                                        #
#                         gpu:                                                #
#                           nvidia: +cuda                                     #
#                           none:                                             #
#                                                                             #
#                     This results in the concatenated spec:                  #
#                                                                             #
#                     - xgboost@1.5.2 +cuda                                   #
#                                                                             #
#                     if in this file, there is a gpu subkey in               #
#                     filters key and it has the value nvidia.                #
#                                                                             #
#   variables: these are juste replacement tokens. When parsing the           #
#              stack.yaml file, every token <core_compiler> will be           #
#              replaced by its value (the <> signs are mandatory in           #
#              stack.yaml file so that it recognizes a token).                #
#                                                                             #
#                                                                             #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
platform:
  filters:
    gpu: none
    python: 2
    mpi: ethernet
  tokens:
    core_compiler: gcc@8.5.0
    cuda_arch: 70
